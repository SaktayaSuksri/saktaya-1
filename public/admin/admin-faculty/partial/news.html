<style>
 .btn-toolbar{

    position: fixed!important;
    z-index: 10!important;
    /* margin-top: auto; */
    padding-right: 15px!important;
    padding-left: 15px!important;
    margin-right: auto!important;
    margin-left: auto!important;
    /* padding-bottom: 200px; */
    margin-top: -200px!important;
   
 }

.paper {
  margin-top: 50px;
  margin-left: auto;
  margin-right: auto;
  align: center;
  background: #fffdf2;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
  height: 100px;
  width: 25%;
  min-width: 300px;
}

/* Shadow and Pin are the same for all three.  Don't forget to copy these styles in. */

.rhp-shadow {
  position: absolute;
  top: 17px;
  left: 8px;
  width: 18px;
  height: 18px;
  background: #000000;
  opacity: 0.15;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

.rhp-needle {
  position: absolute;
  top: 24px;
  left: 17px;
  width: 6px;
  height: 6px;
  background: #787878;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

.round-head-pin-yellow {
  position: relative;
  display: block;
  float: left;
  margin: 25px;
  width: 50px;
  height: 50px;
}

.rhp-y-main {
  position: absolute;
  top: 9px;
  left: 18px;
  width: 23px;
  height: 23px;
  background: #efe188;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

.rhp-y-lowlight {
  position: absolute;
  top: 10px;
  left: 18px;
  width: 21px;
  height: 21px;
  background: #d9c171;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

.rhp-y-secondary-highlight {
  position: absolute;
  top: 10px;
  left: 20px;
  width: 20px;
  height: 20px;
  background: #f7eeb5;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

.rhp-y-highlight {
  position: absolute;
  top: 13px;
  left: 28px;
  width: 8px;
  height: 8px;
  background: #fffbe4;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

/* Start Red Pin */

.round-head-pin-red {
  position: relative;
  display: block;
  float: left;
  margin: 25px;
  width: 50px;
  height: 50px;
}

.rhp-r-main {
  position: absolute;
  top: 9px;
  left: 18px;
  width: 23px;
  height: 23px;
  background: #AF4E17;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

.rhp-r-lowlight {
  position: absolute;
  top: 10px;
  left: 18px;
  width: 21px;
  height: 21px;
  background: #6E2900;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

.rhp-r-secondary-highlight {
  position: absolute;
  top: 10px;
  left: 20px;
  width: 20px;
  height: 20px;
  background: #C66211;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

.rhp-r-highlight {
  position: absolute;
  top: 13px;
  left: 28px;
  width: 8px;
  height: 8px;
  background: #FFD0A3;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

/* Start Blue Pin */

.round-head-pin-blue {
  position: relative;
  display: block;
  float: left;
  margin: 25px;
  width: 50px;
  height: 50px;
}

.rhp-b-main {
  position: absolute;
  top: 9px;
  left: 18px;
  width: 23px;
  height: 23px;
  background: #99BAB0;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

.rhp-b-lowlight {
  position: absolute;
  top: 10px;
  left: 18px;
  width: 21px;
  height: 21px;
  background: #778B85;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

.rhp-b-secondary-highlight {
  position: absolute;
  top: 10px;
  left: 20px;
  width: 20px;
  height: 20px;
  background: #A1CCBD;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

.rhp-b-highlight {
  position: absolute;
  top: 13px;
  left: 28px;
  width: 8px;
  height: 8px;
  background: #E9FFF9;
  -moz-border-radius: 100px;
  -webkit-border-radius: 100px;
  border-radius: 100px;
}

    #form-container {
        width: 500px;
    }

    .row {
        margin-top: 15px;
    }

    .row.form-group {
        padding-left: 15px;
        padding-right: 15px;
    }

    .btn {
        margin-left: 15px;
    }

    .change-link {
        background-color: #000;
        border-bottom-left-radius: 6px;
        border-bottom-right-radius: 6px;
        bottom: 0;
        color: #fff;
        opacity: 0.8;
        padding: 4px;
        position: absolute;
        text-align: center;
        width: 150px;
    }

    .change-link:hover {
        color: #fff;
        text-decoration: none;
    }

    img {
        width: 150px;
    }

    #editor-container {
        height: 130px;
    }


</style>
<div class="container-fluid noScroll" ng-controller="news" ng-init="init()">

    <div class="row">
        <div class="col-lg-12 col-md-12">
            <div class="card card-nav-tabs">
                <div class="card-header" data-background-color="purple">
                    <div class="nav-tabs-navigation">
                        <div class="nav-tabs-wrapper">
                            <span class="nav-tabs-title">ประเภท:</span>
                            <ul class="nav nav-tabs" data-tabs="tabs">
                                <li>
                                    <a ng-click="reload_table('')">
                                                        <i class="material-icons">bug_report</i> All
                                                        <div class="ripple-container"></div>
                                                    </a>
                                </li>
                                <li ng-repeat="item in catagory_list">
                                    <a ng-click="reload_table(item)">
                                                        <i class="material-icons">bug_report</i> {{item.resourceName}}
                                                        <div class="ripple-container"></div>
                                                    </a>
                                </li>

                                <!--
                                        <li class="active">
                                            <a href="#profile" data-toggle="tab">
                                                <i class="material-icons">bug_report</i> ตรี
                                                <div class="ripple-container"></div>
                                            </a>
                                        </li>
                                        -->


                            </ul>
                        </div>
                    </div>
                </div>
                <div class="card-content">
                    <button ng-click="modal_create_news()" class="btn btn-white btn-round btn-just-icon" style="position: absolute; right: 0;">
                                        <i class="material-icons">add</i>
                                    </button>


                    <div style="overflow-x:auto;">
                        <table ng-table="news_table" class="table table-striped table-bordered table-condensed" width="100%" show-filter="true">
                            <tr ng-repeat="item in $data">

                                <td title="'topicPicture'" filter="{ topicPicture: 'text'}" sortable="'topicPicture'" width="15%">

                                    <img ng-if="item.topicPicture != ''" ng-src="{{item.topicPicture}}" class="img-fluid" onerror="this.src='./assets/img/image_placeholder.jpg';" alt="Not found" style="width:157px;height:69px">

                                    <img ng-if="item.topicPicture == ''" ng-src="/assets/img/image_placeholder.jpg" class="img-fluid" onerror="this.src='./assets/img/image_placeholder.jpg';" alt="Not found" style="width:157px;height:69px">

                                </td>

                                <td title="'topicShort'" filter="{ topicShort: 'text'}" sortable="'topicShort'" width="15%">


                                    <div ng-bind-html="item.topicShort| limitTo:40"></div>

                                </td>


                                <td title="'detailShort'" filter="{ detailShort: 'text'}" sortable="'detailShort'" width="30%">

                                    <div ng-bind-html="item.detailShort | limitTo:100"></div>


                                </td>
                                <td title="'datetimePost'" filter="{datetimePost: 'text'}" sortable="'datetimePost'" width="5%">
                                    {{item.datetimePost | date:"MM/dd/yyyy 'at' h:mma"}} </td>
                                <td title="'author'" filter="{author: 'text'}" sortable="'author'" width="5%">
                                    {{item.author}}</td>
                                <td title="'readCount'" filter="{readCount: 'text'}" sortable="'readCount'" width="5%">
                                    {{item.readCount}}</td>
                                <td title="'isPinned'" filter="{isPinned: 'text'}" sortable="'isPinned'" width="5%">

                                    <div ng-if="item.isPinned == false || item.isPinned == 'false'">
                                        {{item.isPinned}}
                                    </div>
                                    <div ng-if="item.isPinned == true || item.isPinned == 'true'" >
                        <!--                <img src="./assets/img/pin-icon.png" class="img-circle" alt="cannot to load" style="height:30px; width:25px">
                        -->

                         <!--   Start Red Pin -->
  <div class="round-head-pin-red">
        <div class="rhp-shadow">
        </div>
        <div class="rhp-needle">
        </div>
        <div class="rhp-r-main">
        </div>
        <div class="rhp-r-lowlight">
        </div>
        <div class="rhp-r-secondary-highlight">
        </div>
        <div class="rhp-r-highlight">
        </div>
      </div>
    
                                    </div>

                                </td>


          

                                <td title="'ภาควิชา / หน่วยงาน'" filter="{departmentName: 'text'}" sortable="'departmentName'" width="5%">
                                    {{item.departmentName}}</td>

                                    <td title="'Tags'" filter="{tag: 'text'}" sortable="'tag'" width="5%">
                                            <span class="badge" ng-repeat="tag_it in item.tag2">
                                                {{tag_it.text}}
                                            
                                            </span>
                                        
                                    
                                    </td>

                                <td class="" width="10%">
                                    <button type="button" ng-click="modal_update_news(item)" rel="tooltip" title="Edit Task" class="btn btn-primary btn-simple btn-xs">
                                                                                                    <i class="material-icons">edit</i>
                                                                                                </button>
                                    <button type="button" ng-click="delete_news(item)" rel="tooltip" title="Remove" class="btn btn-danger btn-simple btn-xs">
                                                                                                    <i class="material-icons">close</i>
                                                                                                </button>
                                </td>

                            </tr>
                        </table>


                    </div>
                </div>
            </div>
        </div>

    </div>







    <div id="modal_update_news" class="modal fade" tabindex="-1" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" style="width:90%">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h3 class="modal-title ">ข่าว</h3>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <!-- Modal body -->
                <div class="modal-body">

                  <div class="container-fluid">
                    <div calss="row">
                        <div class="col-md-12">
                            <div  class="">
                                <form>
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <img ng-if="modal_update_news_data.topicPicture != ''" class="img-rounded" style="margin-top: 30px" height="150px" ng-src="{{modal_update_news_data.topicPicture}}" onerror="this.src='./assets/img/image_placeholder.jpg';" alt="not found">
                                            <img ng-if="modal_update_news_data.topicPicture == ''" class="img-rounded" style="margin-top: 30px" height="150px" ng-src="/assets/img/image_placeholder.jpg" onerror="this.src='./assets/img/image_placeholder.jpg';" alt="not found">



                                            <input type="file" id="fileupload" class="change-link" fileinput="file" filepreview="modal_update_news_data.topicPicture" >


                                        </div>
                                        <div class="col-xs-8">
                                            <div class="form-group">
                                                <label for="exampleSelect1">ภาควิชา / หน่วยงาน </label>
                                                <select class="form-control" ng-model="modal_update_news_data.departmentId">
                              <option ng-repeat="item in department_list" value="{{item._id}}">{{item.departmentName}}</option>

                            </select>
                                            </div>

                                            <div class="form-group">
                                                <label for="exampleSelect1">หมวดหมู่ / category </label>
                                                <select class="form-control" ng-model="modal_update_news_data.resourceId">
                              <option ng-repeat="item in catagory_list" value="{{item._id}}">{{item.resourceName}}</option>

                            </select>
                                            </div>


                                            <div class="form-group">
                                                <label for="exampleSelect1">เป้าหมาย </label>
                                                <select class="form-control" ng-model="modal_update_news_data.targetTypeId">
                              <option ng-repeat="item in traget_list" value="{{item._id}}">{{item.targetTypeName}}</option>

                            </select>
                            
                                            </div>
                            
                                            <div class="form-group">
                                                <label for="exampleSelect1">วันเริ่มกิจกรรม </label>
                                                <input id="date" type="date" ng-model="modal_update_news_data.datetimePost">
                                            </div>
                                           

                                            <div class="form-group">
                                                <label for="exampleSelect1">วันสิ้นสุดกิจกรรม </label>
                                                <input id="date" type="date" ng-model="modal_update_news_data.datetimeExpire">
                                            </div>
                                           
                                            <div style="color: #ff0000">{{checkDate}}</div>


                                            <div class="form-group">
                                                    <label for="location">Tags</label>
                                                    <tags-input class="form-control"  ng-model="modal_update_news_data.tag">
                                                            <auto-complete ></auto-complete>
                                                        </tags-input>

                                                    </div>
                                                    {{show_tags}}

                                     
                                             
                                             
                                            </div>
                                        </div>
                                    </div>




                                    <div class=" card  container">

                                        <div class="" role="tab" id="headingOne">



                                            <a type="button" data-toggle="collapse" data-target="#demo">กำหนดแบบย่อ <i class="material-icons">keyboard_arrow_down</i></a>

                                        </div>

                                        <div id="demo" class="collapse" role="tabpanel" aria-labelledby="headingOne" data-parent="#accordion">
                                            <div class="card-body">

                                                <div>

                                                    <div class="form-group">
                                                        <label for="exampleFormControlInput2">หัวข้อข่าวแบบย่อ</label>
                                                        <input type="text" class="form-control" ng-model="quill_title_yo" id="exampleFormControlInput2" placeholder="หัวข้อ">
                                                      </div>


                                                    <div class="row form-group">

                                                        <div class="form-group">
                                                            <label for="exampleFormControlTextarea1">เนื้อหาข่าวแบบย่อ</label>
                                                            <textarea class="form-control"  ng-model="quill_detail_yo" id="exampleFormControlTextarea1" rows="3"></textarea>
                                                          </div>

                                                    </div>
                                                </div>


                                            </div>
                                        </div>
                                    </div>





                                    <div class="form-group">
                                        <label for="exampleFormControlInput3">หัวข้อ</label>
                                        <input type="text" class="form-control" ng-model="quill_title" id="exampleFormControlInput3" placeholder="หัวข้อ">
                                      </div>


                                    <div class="row form-group">
                                        <label for="about">เนื้อหา</label>


                                     <!--   <ng-quill-editor ng-model="quill_detail" on-editor-created="editorCreated(editor)" on-content-changed="contentChanged(editor, html, text)" toolbar-enries="bold italic underline"></ng-quill-editor>
                                     -->




<div class="container-fluid" style=" max-height:600px;   overflow-y: scroll;border: 10px solid #f0c4b4;

padding: 35px 0;

background-color: #f5f5f5;"

>
                                    <div text-angular="text-angular" ng-model="quill_detail" name="quill_detail" style="width:100%;height:100%;    margin-top: 185px;" ></div>
                                
                                
                                </div>
                            </div>
                                    <div class="row">
                                            <div class="checkbox">
                                                    <label>
                                                      <input type="checkbox" ng-model="modal_update_news_data.isPinned" > ปักหมุด 
                                                    </label>
                                                  </div>

                                        <button class="btn btn-primary" ng-click="update_news()" type="submit">Save</button>
                                    </div>

                                </form>
                            </div>



                        </div>





                        <div class="col-md-12">

                                <h3 ><center>Live Preview</center></h3>
                            <div class="section" style="border: 10px solid #f15c22;
                            
                            padding: 35px 0;
                            
                            background-color: #f5f5f5;">
                              
                             <!--   <div ng-bind-html="trustAsHtml(quill_detail)"></div>
                             -->

                             <div class="container-fluid">
                                    
                                                            <h1 style="
                                                            line-height: 50px;
                                                            color: #ff7c1c;
                                                            position: relative;"> 
                                                   
                                                            {{ quill_title}} 
                                                            </h1>
                                                        <!--content -->
                                    
                                    
                                                        <p style="color: #7d7f80;
                                                        font-size: 22px;
                                                        line-height: 28px;"><strong >   {{ quill_title_yo}}   </strong></p>
                                    
                                                       
                                                        <img ng-if="modal_update_news_data.topicPicture != ''" style="width: 100%" ng-src="{{modal_update_news_data.topicPicture}}" onerror="this.src='./assets/img/image_placeholder.jpg';" alt="not found">
                                                        <img ng-if="modal_update_news_data.topicPicture == ''" style="width: 100%" style="margin-top: 30px" height="150px" ng-src="/assets/img/image_placeholder.jpg" onerror="this.src='./assets/img/image_placeholder.jpg';" alt="not found">
            
                                                        <p style="color: #7d7f80;
                                                        font-size: 18px;
                                                        line-height: 28px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                                                      
                                                        <div ta-bind="text" ng-model="quill_detail" ta-readonly='disabled'></div>
                                             
                                                        
                                                    </p>
                                    
                                                    </div>


                          
                            </div>
                        </div>
                    </div>
                  </div>

                </div>
            </div>

            <!-- Modal footer -->
            <!-- <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div> -->
        </div>
    </div>
</div>
